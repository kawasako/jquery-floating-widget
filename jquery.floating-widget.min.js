/*!
 * jQuery Floating Widget plugin v0.9.2
 * http://terkel.jp/archives/2011/05/jquery-floating-widget-plugin/
 *
 * Copyright (c) 2011 Takeru Suzuki, http://terkel.jp/
 * Licensed under the MIT license: http://www.opensource.org/licenses/MIT
 */
(function(e){e.fn.floatingWidget=function(t){var n=e.extend({paddingTop:0},t);return this.each(function(){var t=e(this),r=t.find("[href^=#]"),i=parseInt(r.height()),s=t.offsetParent(),o=e(window),u=t.offset().top-parseFloat(t.css("marginTop").replace(/auto/,0)),a="floating";var f=function(){var t={},n=[];r.each(function(){var r=e(this),i=r.attr("href"),s=e(i),o=parseInt(s.offset().top);n.push(o);t[o]=r});n.sort(function(e,t){return parseInt(e)>parseInt(t)?1:-1});return{offsetList:n,anchorLinkList:t}};var l=f();var c=0;if(s.height()>t.outerHeight(true)){o.on("scroll.floating-widget",function(){var e=o.scrollTop()+n.paddingTop;if(e>u){t.addClass(a)}else{t.removeClass(a);r.removeClass("current")}var s=0;for(var f=0;l.offsetList.length>f;f++){if(l.offsetList[f]<e+i){s++}}if(c!==s){c=s;if(s>0){r.removeClass("current");l.anchorLinkList[l.offsetList[s-1]].addClass("current")}}})}})};e.fn.floatingWidgetDestroy=function(){var t=e(window);t.off("scroll.floating-widget");e(this).removeClass("floating")}})(jQuery);